<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Apache Graphs on React :: KakeiBro</title>
    <link rel="prev" href="mfa.html">
    <link rel="next" href="forms.html">
    <meta name="generator" content="Antora 3.1.10">
    <link rel="stylesheet" href="../../../_/css/site.css">
    <link rel="stylesheet" href="../../../_/css/shiki.css">
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="../../..">KakeiBro</a>
      <button class="navbar-burger" aria-controls="topbar-nav" aria-expanded="false" aria-label="Toggle main menu">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="https://github.com/orgs/KakeiBro/repositories" target="_blank">
          <span class="icon">
            <svg aria-hidden="true" data-icon="github" role="img" viewBox="0 0 98 96" xmlns="http://www.w3.org/2000/svg">
              <path fill-rule="evenodd" clip-rule="evenodd" d="M48.854 0C21.839 0 0 22 0 49.217c0 21.756 13.993 40.172 33.405 46.69 2.427.49 3.316-1.059 3.316-2.362 0-1.141-.08-5.052-.08-9.127-13.59 2.934-16.42-5.867-16.42-5.867-2.184-5.704-5.42-7.17-5.42-7.17-4.448-3.015.324-3.015.324-3.015 4.934.326 7.523 5.052 7.523 5.052 4.367 7.496 11.404 5.378 14.235 4.074.404-3.178 1.699-5.378 3.074-6.6-10.839-1.141-22.243-5.378-22.243-24.283 0-5.378 1.94-9.778 5.014-13.2-.485-1.222-2.184-6.275.486-13.038 0 0 4.125-1.304 13.426 5.052a46.97 46.97 0 0 1 12.214-1.63c4.125 0 8.33.571 12.213 1.63 9.302-6.356 13.427-5.052 13.427-5.052 2.67 6.763.97 11.816.485 13.038 3.155 3.422 5.015 7.822 5.015 13.2 0 18.905-11.404 23.06-22.324 24.283 1.78 1.548 3.316 4.481 3.316 9.126 0 6.6-.08 11.897-.08 13.526 0 1.304.89 2.853 3.316 2.364 19.412-6.52 33.405-24.935 33.405-46.691C97.707 22 75.788 0 48.854 0z" fill="#fff"/>
            </svg>
          </span>
        </a>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="kakeibro-docs" data-version="0.0.1">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <button class="nav-menu-toggle" aria-label="Toggle expand/collapse all" style="display: none"></button>
    <h3 class="title"><a href="../index.html">KakeiBro Docs</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../index.html">Introduction</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../onboarding/index.html">Onboarding</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../onboarding/backend.html">.NET Solution</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../ci-cd.html">CI/CD</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../domain/index.html">Domain</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../domain/authentication-module.html">Authentication Module</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../domain/users-module.html">Users Module</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../domain/finances-module.html">Finances Module</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../domain/intelligence-module.html">Intelligence Module</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../domain/ubiquitous-language.html">Ubiquitous Language</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../database/index.html">Database</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="index.html">Prototypes</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="o-auth.html">Google OAuth 2.0</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="mfa.html">Multi Factor Authentication</a>
  </li>
  <li class="nav-item is-current-page" data-depth="2">
    <a class="nav-link" href="apache-graphs-react.html">Apache Graphs on React</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="forms.html">Form Libraries for React</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="formik.html">Formik</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="react-hook-form.html">React Hook Form</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../backend/index.html">Backend</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../backend/git-hooks.html">Git Hooks</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../backend/net-modulith.html">.NET Modulith</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../backend/ci-cd-pipelines.html">CI/CD Pipelines</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../backend/logging.html">Logging</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../backend/security.html">Security</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../frontend/index.html">Frontend</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../frontend/screens/screens.html">Wireframing</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../frontend/screens/authentication.html">Authentication Screens</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../frontend/husky.html">Husky Setup</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../frontend/ui-folder-structure-patterns.html">UI Folder Structure Patterns</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../frontend/ci-cd-pipelines.html">CI/CD Pipelines</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../frontend/vitest.html">Vitest</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">KakeiBro Docs</span>
    <span class="version">0.0.1</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <div class="title"><a href="../index.html">KakeiBro Docs</a></div>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../index.html">0.0.1</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../index.html">KakeiBro Docs</a></li>
    <li><a href="index.html">Prototypes</a></li>
    <li><a href="apache-graphs-react.html">Apache Graphs on React</a></li>
  </ul>
</nav>
</div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">Apache Graphs on React</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>Source: <a href="https://echarts.apache.org/examples/en/index.html#chart-type-graphic">Apache Echarts</a></p>
</div>
<div class="paragraph">
<p>There&#8217;s this Open Source JavaScript Visualization Library. That has tons of graphs and
a pretty robust documentation (although it lacks examples and more explicit statements).
But it looks really promising when integrating with some other Frontend Framework.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="apache-echarts-api"><a class="anchor" href="#apache-echarts-api"></a>Apache Echarts API</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This is but an example of how a stacked bar chart could be configure:</p>
</div>
<div class="listingblock">
<div class="content">
<html><head></head><body><pre class="shiki highlight monokai" style="--shiki-background-color: #272822; --shiki-conum-bg-color: #d2d2cd; --shiki-conum-fg-color: #000000;"><code data-lang="javascript" class="shiki has-line-numbers override-conums" style="--shiki-line-number-start: 1; --shiki-line-number-color: #757866;"><span class="line"><span style="color: #F8F8F2">{</span></span>
<span class="line"><span style="color: #F8F8F2">    dataset: {</span></span>
<span class="line"><span style="color: #F8F8F2">        source: [</span></span>
<span class="line"><span style="color: #F8F8F2">        [</span><span style="color: #E6DB74">'Commodity'</span><span style="color: #F8F8F2">, </span><span style="color: #E6DB74">'Owned'</span><span style="color: #F8F8F2">, </span><span style="color: #E6DB74">'Financed'</span><span style="color: #F8F8F2">],</span></span>
<span class="line"><span style="color: #F8F8F2">        [</span><span style="color: #E6DB74">'Commodity 1'</span><span style="color: #F8F8F2">, </span><span style="color: #AE81FF">4</span><span style="color: #F8F8F2">, </span><span style="color: #AE81FF">1</span><span style="color: #F8F8F2">],</span></span>
<span class="line"><span style="color: #F8F8F2">        [</span><span style="color: #E6DB74">'Commodity 2'</span><span style="color: #F8F8F2">, </span><span style="color: #AE81FF">2</span><span style="color: #F8F8F2">, </span><span style="color: #AE81FF">4</span><span style="color: #F8F8F2">],</span></span>
<span class="line"><span style="color: #F8F8F2">        [</span><span style="color: #E6DB74">'Commodity 3'</span><span style="color: #F8F8F2">, </span><span style="color: #AE81FF">3</span><span style="color: #F8F8F2">, </span><span style="color: #AE81FF">6</span><span style="color: #F8F8F2">],</span></span>
<span class="line"><span style="color: #F8F8F2">        [</span><span style="color: #E6DB74">'Commodity 4'</span><span style="color: #F8F8F2">, </span><span style="color: #AE81FF">5</span><span style="color: #F8F8F2">, </span><span style="color: #AE81FF">3</span><span style="color: #F8F8F2">]</span></span>
<span class="line"><span style="color: #F8F8F2">        ]</span></span>
<span class="line"><span style="color: #F8F8F2">    },</span></span>
<span class="line"><span style="color: #F8F8F2">    tooltip: {</span></span>
<span class="line"><span style="color: #F8F8F2">        trigger: </span><span style="color: #E6DB74">'axis'</span><span style="color: #F8F8F2">,</span></span>
<span class="line"><span style="color: #F8F8F2">        axisPointer: {</span></span>
<span class="line"><span style="color: #F8F8F2">        type: </span><span style="color: #E6DB74">'shadow'</span></span>
<span class="line"><span style="color: #F8F8F2">        }</span></span>
<span class="line"><span style="color: #F8F8F2">    },</span></span>
<span class="line"><span style="color: #F8F8F2">    legend: {</span></span>
<span class="line"><span style="color: #F8F8F2">        data: [</span><span style="color: #E6DB74">'Owned'</span><span style="color: #F8F8F2">, </span><span style="color: #E6DB74">'Financed'</span><span style="color: #F8F8F2">]</span></span>
<span class="line"><span style="color: #F8F8F2">    },</span></span>
<span class="line"><span style="color: #F8F8F2">    grid: {</span></span>
<span class="line"><span style="color: #F8F8F2">        left: </span><span style="color: #E6DB74">'10%'</span><span style="color: #F8F8F2">,</span></span>
<span class="line"><span style="color: #F8F8F2">        right: </span><span style="color: #E6DB74">'0%'</span><span style="color: #F8F8F2">,</span></span>
<span class="line"><span style="color: #F8F8F2">        top: </span><span style="color: #E6DB74">'20%'</span><span style="color: #F8F8F2">,</span></span>
<span class="line"><span style="color: #F8F8F2">        bottom: </span><span style="color: #E6DB74">'20%'</span></span>
<span class="line"><span style="color: #F8F8F2">    },</span></span>
<span class="line"><span style="color: #F8F8F2">    xAxis: {</span></span>
<span class="line"><span style="color: #F8F8F2">        type: </span><span style="color: #E6DB74">'value'</span></span>
<span class="line"><span style="color: #F8F8F2">    },</span></span>
<span class="line"><span style="color: #F8F8F2">    yAxis: {</span></span>
<span class="line"><span style="color: #F8F8F2">        type: </span><span style="color: #E6DB74">'category'</span></span>
<span class="line"><span style="color: #F8F8F2">    },</span></span>
<span class="line"><span style="color: #F8F8F2">    series: [</span></span>
<span class="line"><span style="color: #F8F8F2">        {</span></span>
<span class="line"><span style="color: #F8F8F2">        type: </span><span style="color: #E6DB74">'bar'</span><span style="color: #F8F8F2">,</span></span>
<span class="line"><span style="color: #F8F8F2">        stack: </span><span style="color: #E6DB74">'total'</span><span style="color: #F8F8F2">,</span></span>
<span class="line"><span style="color: #F8F8F2">        label: {</span></span>
<span class="line"><span style="color: #F8F8F2">            show: </span><span style="color: #AE81FF">true</span></span>
<span class="line"><span style="color: #F8F8F2">        }</span></span>
<span class="line"><span style="color: #F8F8F2">        },</span></span>
<span class="line"><span style="color: #F8F8F2">        {</span></span>
<span class="line"><span style="color: #F8F8F2">        type: </span><span style="color: #E6DB74">'bar'</span><span style="color: #F8F8F2">,</span></span>
<span class="line"><span style="color: #F8F8F2">        stack: </span><span style="color: #E6DB74">'total'</span><span style="color: #F8F8F2">,</span></span>
<span class="line"><span style="color: #F8F8F2">        label: {</span></span>
<span class="line"><span style="color: #F8F8F2">            show: </span><span style="color: #AE81FF">true</span></span>
<span class="line"><span style="color: #F8F8F2">        }</span></span>
<span class="line"><span style="color: #F8F8F2">        }</span></span>
<span class="line"><span style="color: #F8F8F2">    ]</span></span>
<span class="line"><span style="color: #F8F8F2">}</span></span></code></pre></body></html>
</div>
</div>
<div class="paragraph">
<p>As you can see there are tons of properties and they all hold different types of values,
it&#8217;s depending on what type of chart we want to render that we have to configure these
objects. Of course, for the actual system&#8217;s purpose we should have abstractions that are
generic and configurable up until a specific point. Only to change small details and the
actual dataset, but we should have baked-in patterns for the different use cases we
want to cover.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="project-rundown"><a class="anchor" href="#project-rundown"></a>Project Rundown</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This project was created with vite, following the steps:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>pnpm create vite apache-echarts-react</code> (Select React &gt; Typescript + SWC)</p>
</li>
<li>
<p><code>pnpm install</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>After scaffolding the initial folder structure, we added the dependencies neccesary to
start consuming the echarts library.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>pnpm i echarts</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This prototype is quite <em>to the point</em>, in the sense we simply have one component that
takes care of abstracting (Facade) all the logic that goes into consuming the <code>echarts</code>
API, it makes use of <code>useEffect()</code> to subscribe to a <code>resize</code> event that the charts emit
in order to recalculate the rendering and hooking of the DOM element ref with the echarts
element to render. It&#8217;s highly extendable and can basically feed whatever the echarts
API has. It&#8217;s also worth noting that reading up on the docs from the library will be
the best source to figure out how to render something we want. It&#8217;s customizable to
a fault.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>apache-echarts-react
|-- src
|   |-- App.tsx
|   |-- React-ECharts.tsx</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>It is <code>React-Echarts.tsx</code> the component to which we can send the different
structures that Apache Echarts will then render, and at the <code>App.tsx</code> level we simply
feed some input structure to render.</p>
</div>
<div class="paragraph">
<p>There&#8217;s definitely room for improvement or extension to this prototype may it be to
figure out the specifics on implementing a specific chart type and/or for a specific
use case. But for now, this is just a simply PoC on how to use the library with React
and with a pattern that&#8217;s reliable and easy to understand.</p>
</div>
</div>
</div>
<nav class="pagination">
  <span class="prev"><a href="mfa.html">Multi Factor Authentication</a></span>
  <span class="next"><a href="forms.html">Form Libraries for React</a></span>
</nav>
</article>
  </div>
</main>
</div>
<footer class="footer">
  <p>This page was built using the Antora default UI.</p>
  <p>The source code for this UI is licensed under the terms of the MPL-2.0 license.</p>
</footer>
<script id="site-script" src="../../../_/js/site.js" data-ui-root-path="../../../_"></script>
<script async src="../../../_/js/vendor/highlight.js"></script>
  </body>
</html>
