<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Folder Structure :: KakeiBro</title>
    <link rel="prev" href="oauth.html">
    <link rel="next" href="authentication-module.html">
    <meta name="generator" content="Antora 3.1.10">
    <link rel="stylesheet" href="../../../../_/css/site.css">
    <link rel="stylesheet" href="../../../../_/css/shiki.css">
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="../../../..">KakeiBro</a>
      <button class="navbar-burger" aria-controls="topbar-nav" aria-expanded="false" aria-label="Toggle main menu">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="https://github.com/orgs/KakeiBro/repositories" target="_blank">
          <span class="icon">
            <svg aria-hidden="true" data-icon="github" role="img" viewBox="0 0 98 96" xmlns="http://www.w3.org/2000/svg">
              <path fill-rule="evenodd" clip-rule="evenodd" d="M48.854 0C21.839 0 0 22 0 49.217c0 21.756 13.993 40.172 33.405 46.69 2.427.49 3.316-1.059 3.316-2.362 0-1.141-.08-5.052-.08-9.127-13.59 2.934-16.42-5.867-16.42-5.867-2.184-5.704-5.42-7.17-5.42-7.17-4.448-3.015.324-3.015.324-3.015 4.934.326 7.523 5.052 7.523 5.052 4.367 7.496 11.404 5.378 14.235 4.074.404-3.178 1.699-5.378 3.074-6.6-10.839-1.141-22.243-5.378-22.243-24.283 0-5.378 1.94-9.778 5.014-13.2-.485-1.222-2.184-6.275.486-13.038 0 0 4.125-1.304 13.426 5.052a46.97 46.97 0 0 1 12.214-1.63c4.125 0 8.33.571 12.213 1.63 9.302-6.356 13.427-5.052 13.427-5.052 2.67 6.763.97 11.816.485 13.038 3.155 3.422 5.015 7.822 5.015 13.2 0 18.905-11.404 23.06-22.324 24.283 1.78 1.548 3.316 4.481 3.316 9.126 0 6.6-.08 11.897-.08 13.526 0 1.304.89 2.853 3.316 2.364 19.412-6.52 33.405-24.935 33.405-46.691C97.707 22 75.788 0 48.854 0z" fill="#fff"/>
            </svg>
          </span>
        </a>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="kakeibro-docs" data-version="0.0.1">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <button class="nav-menu-toggle" aria-label="Toggle expand/collapse all" style="display: none"></button>
    <h3 class="title"><a href="../../index.html">KakeiBro Docs</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../index.html">Introduction</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../onboarding/index.html">Onboarding</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../onboarding/backend.html">.NET Solution</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../ci-cd.html">CI/CD</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../domain/index.html">Domain</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../domain/authentication-module.html">Authentication Module</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../domain/users-module.html">Users Module</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../domain/finances-module.html">Finances Module</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../domain/intelligence-module.html">Intelligence Module</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../domain/ubiquitous-language.html">Ubiquitous Language</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../database/index.html">Database</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../prototypes/index.html">Prototypes</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../prototypes/o-auth.html">Google OAuth 2.0</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../prototypes/mfa.html">Multi Factor Authentication</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../prototypes/apache-graphs-react.html">Apache Graphs on React</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../prototypes/forms.html">Form Libraries for React</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../prototypes/formik.html">Formik</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../prototypes/react-hook-form.html">React Hook Form</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../index.html">Backend</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../git-hooks.html">Git Hooks</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="net-modulith.html">.NET Modulith</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="oauth.html">OAuth</a>
  </li>
  <li class="nav-item is-current-page" data-depth="3">
    <a class="nav-link" href="folder-structure.html">Folder Structure</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="authentication-module.html">Authentication Module</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../ci-cd-pipelines.html">CI/CD Pipelines</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../logging.html">Logging</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../security.html">Security</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../frontend/index.html">Frontend</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../frontend/screens/screens.html">Wireframing</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../frontend/screens/authentication.html">Authentication Screens</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../frontend/husky.html">Husky Setup</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../frontend/modules.html">Modules</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../frontend/modules/auth-module.html">Authentication Module</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../frontend/ui-folder-structure-patterns.html">UI Folder Structure Patterns</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../frontend/ci-cd-pipelines.html">CI/CD Pipelines</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../frontend/vitest.html">Vitest</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../frontend/react-router.html">React Router</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">KakeiBro Docs</span>
    <span class="version">0.0.1</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <div class="title"><a href="../../index.html">KakeiBro Docs</a></div>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../../index.html">0.0.1</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../../index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../../index.html">KakeiBro Docs</a></li>
    <li><a href="../index.html">Backend</a></li>
    <li><a href="net-modulith.html">.NET Modulith</a></li>
    <li><a href="folder-structure.html">Folder Structure</a></li>
  </ul>
</nav>
</div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">Folder Structure</h1>
<div class="paragraph">
<p>The folder structure will adhere to <strong>Vertical Slice Architecture</strong> focused around the
separation of concerns under a <code>Modulith</code> solution. Which means:</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>This isn&#8217;t the full folder structure, but a small representation of how it&#8217;s logically
ordered.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="content">
<pre>📂 src
  📂 Common <i class="conum" data-value="1"></i><b>(1)</b>
    📂 Common.Library <i class="conum" data-value="2"></i><b>(2)</b>
      📂 Interfaces <i class="conum" data-value="3"></i><b>(3)</b>
        📄 IEndpointDefinition.cs
        📄 IModuleInstaller.cs
        📄 IServiceInstaller
      📄 EndpointDefinitionExtensions.cs <i class="conum" data-value="4"></i><b>(4)</b>
      📄 ModuleInstallerExtensions.cs
      📄 ServiceInstallerExtensions.cs
  📂 Modules <i class="conum" data-value="5"></i><b>(5)</b>
    📂 Modules.Authentication <i class="conum" data-value="6"></i><b>(6)</b>
        📂 GoogleOAuth <i class="conum" data-value="7"></i><b>(7)</b>
          📄 GoogleAuthEndpoints.cs <i class="conum" data-value="8"></i><b>(8)</b>
          📄 GoogleAuthRepository.cs <i class="conum" data-value="9"></i><b>(9)</b>
        📁 LogIn
          📄 LogInEndpoints.cs
          📄 LogInRepository.cs
        📁 Config <i class="conum" data-value="10"></i><b>(10)</b>
        📁 Data <i class="conum" data-value="11"></i><b>(11)</b>
        📄 AssemblyReference.cs <i class="conum" data-value="12"></i><b>(12)</b>
        📄 AuthenticationModuleInstaller.cs <i class="conum" data-value="13"></i><b>(13)</b>
        📁 ServiceInstallers <i class="conum" data-value="14"></i><b>(14)</b>
          📄 RepositoryServiceInstaller.cs <i class="conum" data-value="15"></i><b>(15)</b>
    📂 Modules.Users (and so on...)
  📁 KakeiBro.API <i class="conum" data-value="16"></i><b>(16)</b></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>We will have a <em>Common</em> type of Class Library that all modules and apps can reference
with base interfaces, extensions and classes that help us adhere to the rules of how all the
architecture will be written.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>The <code>shared</code> class library will be denominated <code>Common.Library</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Inside of it we will have really high level and foundational interfaces that will
help us declare the different classes that a module should have in order to declare the
composition steps that will register both its endpoints, plus its services.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>All the <code>EndpointDefinitionExtensions</code>, <code>ModuleInstallerExtensions</code>, <code>ServiceInstallerExtensions</code>
are the ones powering <strong><em>assembly scanning</em></strong>, making it possible for us to simply reference the different
<code>AssemblyReference</code> markers on different modules, and from that one target, we can start composing the whole
module by registering its services, its endpoints and so on.</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>We will have a <code>Modules</code> folder in which all our module&#8217;s will live (as Class
Libraries completely independent of each other).</td>
</tr>
<tr>
<td><i class="conum" data-value="6"></i><b>6</b></td>
<td>Taking the Authentication Module as an example, we will have created a folder for
the whole Module Class Library</td>
</tr>
<tr>
<td><i class="conum" data-value="7"></i><b>7</b></td>
<td>And it&#8217;s inside <em>nested folders</em> that we will have the <strong><em>slices</em></strong> in the form of
use cases. Each Use Case (user flow) for the module will contain all that it&#8217;s neccesary
to it (from the endpoint all the way to the database specific concerns).</td>
</tr>
<tr>
<td><i class="conum" data-value="8"></i><b>8</b></td>
<td>Each Use case will have generic named files, for example for all endpoints related
to the use case we will be following the pattern <code>&lt;UseCase&gt;Endpoints.cs</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="9"></i><b>9</b></td>
<td>And just like in the <em>endpoints</em> case we will follow the same idea with a file for
a repository, <code>&lt;UseCase&gt;Repository.cs</code>. It&#8217;s worth noting that we chose to use the
name of <code>Repository</code> however this could easily be named something else (such as <code>Service</code>
or <code>BusinessLogic</code>), we are not leveraging the <em>Repository</em> pattern in its entirety
mainly because we have no use case (at least for now).</td>
</tr>
<tr>
<td><i class="conum" data-value="10"></i><b>10</b></td>
<td>In case we might require any sort of module configuration files, and/or classes, we will
aggregate them under a <code>Config</code> folder.</td>
</tr>
<tr>
<td><i class="conum" data-value="11"></i><b>11</b></td>
<td>Since the module has to deal with its own set of database technical concerns, we will
have a <em>Generic</em> folder named <code>Data</code> under the module, this wil encapsulate both
the Entity objects that map to the database, plus migrations and other database centric
operations.</td>
</tr>
<tr>
<td><i class="conum" data-value="12"></i><b>12</b></td>
<td>Since we will leverage assembly scanning for the registering of many of the components
that make out our whole module, we should always have an <code>AssemblyReference.cs</code> file there,
a marker, <strong>WITHOUT ACTUAL FUNCTIONAL CODE</strong>.</td>
</tr>
<tr>
<td><i class="conum" data-value="13"></i><b>13</b></td>
<td>An interesting concept that we will also make use of is the concept of a <strong><em>Module Installer</em></strong>,
since all of our modules will be class libraries at their core, we need for an actual
application to make use of their functionalities, and so, in order to register the
module we will use the concept of <strong><em>Install</em></strong>. Which in short means that all the
interfaces to which an app can hook into this module and register it, all of its
endpoints, services, database concerns should be <em>injected</em> through these interfaces.</td>
</tr>
<tr>
<td><i class="conum" data-value="14"></i><b>14</b></td>
<td>And in the spirit of keeping things simple, clean and organized, we will also separate
by technical concern each registration for each different concern under a <code>ServiceInstallers</code>
folder.</td>
</tr>
<tr>
<td><i class="conum" data-value="15"></i><b>15</b></td>
<td>For example, all repository registration logic should be under a specific <code>RepositoryServiceInstaller.cs</code>
file.</td>
</tr>
<tr>
<td><i class="conum" data-value="16"></i><b>16</b></td>
<td>It&#8217;s also at the same level of the <code>Modules</code> folder that we will have the actual
Web API (the app) that will then install of the modules to it through the interfaces that
we have laid out previously.</td>
</tr>
</table>
</div>
<nav class="pagination">
  <span class="prev"><a href="oauth.html">OAuth</a></span>
  <span class="next"><a href="authentication-module.html">Authentication Module</a></span>
</nav>
</article>
  </div>
</main>
</div>
<footer class="footer">
  <p>This page was built using the Antora default UI.</p>
  <p>The source code for this UI is licensed under the terms of the MPL-2.0 license.</p>
</footer>
<script id="site-script" src="../../../../_/js/site.js" data-ui-root-path="../../../../_"></script>
<script async src="../../../../_/js/vendor/highlight.js"></script>
  </body>
</html>
